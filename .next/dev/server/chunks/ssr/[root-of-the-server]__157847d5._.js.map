{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///Users/claras/Desktop/_portfolio/src/app/page.tsx"],"sourcesContent":["import HomeClient from \"./homeClient\";\nimport \"./global.css\";\n\nexport const revalidate = 86400;\n\ntype GoodreadsBook = {\n    title: string;\n    author?: string | null;\n    coverUrl?: string | null;\n};\n\ntype LetterboxdFilm = {\n    title: string;\n    director?: string | null;\n    link?: string | null;\n    posterUrl?: string | null;\n    rating?: string | null;\n};\n\ntype GoodreadsPayload = {\n    currentlyReading: GoodreadsBook[];\n    recentlyRead: GoodreadsBook[];\n};\n\ntype LetterboxdPayload = {\n    films: LetterboxdFilm[];\n};\n\nconst emptyGoodreads: GoodreadsPayload = { currentlyReading: [], recentlyRead: [] };\nconst emptyLetterboxd: LetterboxdPayload = { films: [] };\n\nasync function fetchGoodreads(scraperUrl: string | undefined) {\n    if (!scraperUrl) {\n        return { data: emptyGoodreads, error: true };\n    }\n\n    try {\n        const response = await fetch(`${scraperUrl}/goodreads`);\n        if (!response.ok) {\n            throw new Error(\"Failed Goodreads fetch\");\n        }\n        const data = (await response.json()) as GoodreadsPayload;\n        return { data, error: false };\n    } catch {\n        return { data: emptyGoodreads, error: true };\n    }\n}\n\nasync function fetchLetterboxd(scraperUrl: string | undefined) {\n    if (!scraperUrl) {\n        return { data: emptyLetterboxd, error: true };\n    }\n\n    try {\n        const response = await fetch(`${scraperUrl}/letterboxd`);\n        if (!response.ok) {\n            throw new Error(\"Failed Letterboxd fetch\");\n        }\n        const data = (await response.json()) as LetterboxdPayload;\n        return { data, error: false };\n    } catch {\n        return { data: emptyLetterboxd, error: true };\n    }\n}\n\nexport default async function Home() {\n    const scraperUrl = process.env.SCRAPER_SERVICE_URL;\n\n    const [goodreadsResult, letterboxdResult] = await Promise.all([\n        fetchGoodreads(scraperUrl),\n        fetchLetterboxd(scraperUrl),\n    ]);\n\n    return (\n        <HomeClient\n            goodreadsBooks={goodreadsResult.data.currentlyReading}\n            recentlyReadBooks={goodreadsResult.data.recentlyRead}\n            letterboxdFilms={letterboxdResult.data.films}\n            goodreadsError={goodreadsResult.error}\n            letterboxdError={letterboxdResult.error}\n        />\n    );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;;;AAGO,MAAM,aAAa;AAyB1B,MAAM,iBAAmC;IAAE,kBAAkB,EAAE;IAAE,cAAc,EAAE;AAAC;AAClF,MAAM,kBAAqC;IAAE,OAAO,EAAE;AAAC;AAEvD,eAAe,eAAe,UAA8B;IACxD,IAAI,CAAC,YAAY;QACb,OAAO;YAAE,MAAM;YAAgB,OAAO;QAAK;IAC/C;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,UAAU,CAAC;QACtD,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,OAAQ,MAAM,SAAS,IAAI;QACjC,OAAO;YAAE;YAAM,OAAO;QAAM;IAChC,EAAE,OAAM;QACJ,OAAO;YAAE,MAAM;YAAgB,OAAO;QAAK;IAC/C;AACJ;AAEA,eAAe,gBAAgB,UAA8B;IACzD,IAAI,CAAC,YAAY;QACb,OAAO;YAAE,MAAM;YAAiB,OAAO;QAAK;IAChD;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,WAAW,CAAC;QACvD,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,OAAQ,MAAM,SAAS,IAAI;QACjC,OAAO;YAAE;YAAM,OAAO;QAAM;IAChC,EAAE,OAAM;QACJ,OAAO;YAAE,MAAM;YAAiB,OAAO;QAAK;IAChD;AACJ;AAEe,eAAe;IAC1B,MAAM,aAAa,QAAQ,GAAG,CAAC,mBAAmB;IAElD,MAAM,CAAC,iBAAiB,iBAAiB,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC1D,eAAe;QACf,gBAAgB;KACnB;IAED,qBACI,8OAAC,oIAAU;QACP,gBAAgB,gBAAgB,IAAI,CAAC,gBAAgB;QACrD,mBAAmB,gBAAgB,IAAI,CAAC,YAAY;QACpD,iBAAiB,iBAAiB,IAAI,CAAC,KAAK;QAC5C,gBAAgB,gBAAgB,KAAK;QACrC,iBAAiB,iBAAiB,KAAK;;;;;;AAGnD"}}]
}